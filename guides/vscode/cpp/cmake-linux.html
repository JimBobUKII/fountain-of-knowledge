<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Get started with CMake Tools on Linux | Fountain of Knowledge </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Get started with CMake Tools on Linux | Fountain of Knowledge ">
    <meta name="generator" content="docfx 2.56.7.0">
    
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
    
    <meta property="docfx:rel" content="../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="get-started-with-cmake-tools-on-linux">Get started with CMake Tools on Linux</h1>

<p>CMake is an open-source, cross-platform tool that uses compiler and platform independent configuration files to generate native build tool files specific to your compiler and platform.</p>
<p>The CMake Tools extension integrates Visual Studio Code and CMake to make it easy to configure, build, and debug your C++ project.</p>
<p>In this tutorial, you'll use the CMake Tools extension for Visual Studio Code to configure, build, and debug a simple C++ CMake project on Linux. Aside from installing CMake, your compiler, debugger, and build tools, the steps in this tutorial apply generally to how you'd use CMake on other platforms, like Windows.</p>
<p>If you have any trouble, please file an issue for this tutorial in the <a href="https://github.com/microsoft/vscode-docs/issues">VS Code documentation repository</a>.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>To complete this tutorial on Ubuntu, install the following:</p>
<ol>
<li><p><a href="/download">Visual Studio Code</a>.</p>
</li>
<li><p><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools">C++ extension for VS Code</a>. Install the C/C++ extension by searching for 'c++' in the <strong>Extensions</strong> view (<code>kb(workbench.view.extensions)</code>).</p>
<p><img src="images/cpp/cpp-extension.png" alt="C/C++ extension"></p>
</li>
<li><p><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cmake-tools">CMake Tools extension for VS Code</a>. Install the CMake Tools extension by searching for 'CMake tools' in the <strong>Extensions</strong> view (<code>kb(workbench.view.extensions)</code>).</p>
<p><img src="images/cpp/cmake-extension.png" alt="CMake tools extension"></p>
</li>
<li><p>You'll also need to install CMake, a compiler, a debugger, and build tools.</p>
</li>
</ol>
<h3 id="ensure-that-cmake-is-installed">Ensure that CMake is installed</h3>
<p>The VS Code CMake Tools extension does its work by using CMake installed on your system. For best results, use CMake version 3.15 or greater.</p>
<p>See if CMake is already installed on your system. Open a Terminal window and enter the following command:</p>
<pre><code class="lang-bash">cmake --version
</code></pre>
<p>To install CMake, or to get a later version if you don't at least have version 3.15, see the instructions for your platform at <a href="https://apt.kitware.com/">Kitware APT Repository</a>. Install version 3.15 or greater.</p>
<h3 id="ensure-that-development-tools-are-installed">Ensure that development tools are installed</h3>
<p>Although you'll use VS Code to edit your source code, you'll compile and debug the source code using the compiler, debugger, and build tools (such as <code>make</code>) installed on your system.</p>
<p>For this tutorial on Ubuntu, we'll use the GCC compiler, GDB to debug, and <code>make</code> to build the project. These tools are not installed by default on Ubuntu, so you need to install them. Fortunately, that's easy.</p>
<h3 id="check-if-gcc-is-installed">Check if GCC is installed</h3>
<p>To see if GCC is already installed on your system, open a Terminal window and enter the following command:</p>
<pre><code class="lang-bash">gcc -v
</code></pre>
<p>If GCC isn't installed, run the following command from the Terminal window to update the Ubuntu package lists. An out-of-date Linux distribution can interfere with getting the latest packages.</p>
<pre><code class="lang-bash">sudo apt-get update
</code></pre>
<p>Next, install the GNU compiler, <code>make</code>, and the GDB debugger with this command:</p>
<pre><code class="lang-bash">sudo apt-get install build-essential gdb
</code></pre>
<h2 id="create-a-cmake-project">Create a CMake project</h2>
<p>If you have an existing CMake project that already has a <code>CMakeLists.txt</code> file in the root directory, you can skip to <a href="#select-a-kit">Select a kit</a> to configure your existing project.</p>
<p>Otherwise, create a folder for a new project. From the Terminal window, create an empty folder called <code>cmakeQuickStart</code>, navigate into it, and open VS Code in that folder by entering the following commands:</p>
<pre><code class="lang-cmd">mkdir cmakeQuickStart
cd cmakeQuickStart
code .
</code></pre>
<p>The <code>code .</code> command opens VS Code in the current working folder, which becomes your &quot;workspace&quot;.</p>
<h3 id="create-a-cmake-hello-world-project">Create a CMake hello world project</h3>
<p>The CMake Tools extension can create the files for a basic CMake project for you. Open the Command Palette (<code>kb(workbench.action.showCommands)</code>) and run the <strong>CMake: Quick Start</strong> command:</p>
<p><img src="images/cpp/cmake-quickstart-command-palette.png" alt="Create CMake quickstart"></p>
<p>Enter a project name. This will be written to <code>CMakeLists.txt</code> and a few initial source files.</p>
<p>Next, select <strong>Executable</strong> as the project type to create a basic source file (<code>main.cpp</code>) that includes a basic <code>main()</code> function.</p>
<p><img src="images/cpp/cmake-choose-type.png" alt="Choose project type"></p>
<p><strong>Note:</strong> If you had wanted to create a basic source and header file, you would have selected <strong>Library</strong> instead. But for this tutorial, <strong>Executable</strong> will do. If you are prompted to configure IntelliSense for the folder, select <strong>Allow</strong>.</p>
<p>This creates a hello world CMake project containing <code>main.cpp</code>, <code>CMakeLists.txt</code> (which tells the CMake tools how to build your project), and a folder named <code>build</code> for your build files:</p>
<p><img src="images/cpp/cmake-project-contents.png" alt="Project contents"></p>
<h3 id="select-a-kit">Select a kit</h3>
<p>Before you can use the CMake Tools extension to build a project, you need to configure it to know about the compilers on your system. Do that by scanning for 'kits'. A kit represents a toolchain, which is the compiler, linker, and other tools used to build your project. To scan for kits:</p>
<ol>
<li><p>Open the Command Palette (<code>kb(workbench.action.showCommands)</code>) and run <strong>CMake: Select a Kit</strong>. The extension will automatically scan for kits on your computer and create a list of compilers found on your system.</p>
</li>
<li><p>Select the compiler you want to use. For example, depending on the compilers you have installed, you might see something like:</p>
<p><img src="images/cpp/cmake-selectkit.png" alt="Select the kit"></p>
</li>
</ol>
<h2 id="configure-hello-world">Configure Hello World</h2>
<p>There are two things you must do to configure your CMake project: select a kit (which you just did) and select a variant.</p>
<p>The kit you selected previously is shown in the Status bar. For example:</p>
<p><img src="images/cpp/cmake-kit-statusbar.png" alt="Selected kit in Status bar"></p>
<p>To change the kit, you can click on the kit in the Status bar, or run the <strong>CMake: Select a kit</strong> command again from the Command Palette. If you don't see the compiler you're looking for, you can edit the <code>cmake-tools-kits.json</code> file in your project. To edit the file, open the Command Palette (<code>kb(workbench.action.showCommands)</code>) and run the <strong>CMake: Edit User-Local CMake Kits</strong> command.</p>
<h3 id="select-a-variant">Select a variant</h3>
<p>A variant contains instructions for how to build your project. By default, the CMake Tools extension provides four variants, each corresponding to a default build type: <code>Debug</code>, <code>Release</code>, <code>MinRelSize</code>, and <code>RelWithDebInfo</code>. These options do the following:</p>
<p><code>Debug</code>: disables optimizations and includes debug info.
<code>Release</code> : Includes optimizations but no debug info.
<code>MinRelSize</code> : Optimizes for size. No debug info.
<code>RelWithDebInfo</code> : Optimizes for speed and includes debug info.</p>
<p>To select a variant, open the Command Palette (<code>kb(workbench.action.showCommands)</code>) run the <strong>CMake: Select Variant</strong> command.</p>
<p><img src="images/cpp/cmake-select-variant.png" alt="Select variant"></p>
<p>Select <strong>Debug</strong> to include debug information with your build.</p>
<p><img src="images/cpp/cmake-variant-type.png" alt="Select debug variant type"></p>
<p>The selected variant will appear in the Status bar next to the active kit.</p>
<h3 id="cmake-configure">CMake: Configure</h3>
<p>Now that you've selected a kit and a variant, open the Command Palette (<code>kb(workbench.action.showCommands)</code>) and run the <strong>CMake: Configure</strong> command to configure your project. This generates build files in the project's build folder using the kit and variant you selected.</p>
<h2 id="build-hello-world">Build hello world</h2>
<p>After configuring your project, you're ready to build. Open the Command Palette (<code>kb(workbench.action.showCommands)</code>) and run the <strong>CMake: Build</strong> command, or select the <strong>Build</strong> button from the Status bar.</p>
<p><img src="images/cpp/cmake-build.png" alt="Build"></p>
<p>You can select which targets you'd like to build by selecting <strong>CMake: Set Build Target</strong> from the Command Palette. By default, CMake Tools builds all targets. The selected target will appear in the Status bar next to the <strong>Build</strong> button.</p>
<h2 id="debug-hello-world">Debug hello world</h2>
<p>To run and debug your project, open <code>main.cpp</code> and put a breakpoint on the <code>std::cout</code> line.
Then open the Command Palette (<code>kb(workbench.action.showCommands)</code>) and run <strong>CMake: Debug</strong>. The debugger will stop on the <code>std::cout</code> line:</p>
<p><img src="images/cpp/cmake-debug.png" alt="Debug"></p>
<p>Go ahead and press <code>kb(workbench.action.debug.start)</code> to continue.</p>
<p>You've now used the VS Code CMake Tools extension to use CMake to build and debug a C++ app on Ubuntu. The steps are the same for other platforms; the difference being how you install CMake and the compiler/debugger for the platform of your choice. For instructions on setting up compilers/debuggers for other platforms, see the following:</p>
<ul>
<li><a href="/docs/cpp/config-msvc.md">Microsoft C++ on Windows</a></li>
<li><a href="/docs/cpp/config-clang-mac.md">Clang on macOS</a></li>
<li><a href="/docs/cpp/config-wsl.md">GCC on Windows Subsystem for Linux</a></li>
</ul>
<h2 id="next-steps">Next steps</h2>
<ul>
<li>Explore the <a href="https://github.com/microsoft/vscode-cmake-tools/blob/develop/docs/README.md">CMake Tools</a> documentation</li>
<li>Review the <a href="/docs/languages/cpp.md">Overview of the C++ extension</a></li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/JimBobUKII/fountain-of-knowledge/blob/main/guides/vscode/cpp/cmake-linux.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Copyright &#0169; 2021 Jason Rose
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
